"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));var MainSlider=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this.slider=t,this.slidesOnPage=i,this.init()}return _createClass(e,[{key:"init",value:function(){this.counter=0,this.wrapper=this.slider.querySelector(".wrap"),this.prev=this.slider.querySelector(".prev"),this.next=this.slider.querySelector(".next"),this.slides=this.slider.querySelectorAll(".item"),this.slidesCounter=this.slides.length,this.dotsCounter=Math.ceil(this.slidesCounter/this.slidesOnPage),this.nav=this.slider.querySelector(".nav"),this.dots=[],this.shiftMain=0,this.end=this.slidesCounter%this.slidesOnPage,this.slideWidth=100/this.slidesOnPage,this.sliderWidth=this.slider.clientWidth,this.wrapperWidth=this.slidesCounter*this.slideWidth,this.navBtnsInit(),this.setSlidesWidth(),this.setNavDots(),this.changeActiveBtns()}},{key:"setSlidesWidth",value:function(){var e=this;this.slides.forEach((function(t){t.style.minWidth="".concat(e.slideWidth,"%")}))}},{key:"setNavDots",value:function(){var e=this;if(this.nav){for(var t=function(t){var i=document.createElement("div");i.classList.add("nav__item"),i.addEventListener("click",(function(){e.counter=t,e.changeActiveDot();var i=100*t;t===e.dotsCounter-1?(e.shiftMain=e.wrapperWidth-100,e.move(e.shiftMain)):(e.shiftMain=i,e.move(e.shiftMain))})),e.dots.push(i),e.nav.appendChild(i)},i=0;i<this.dotsCounter;i++)t(i);this.dots[this.counter].classList.add("active")}}},{key:"navBtnsInit",value:function(){var e=this;this.prev.addEventListener("click",(function(){e.counter<=0?e.counter=e.dotsCounter-1:e.counter--,e.moveSlide("prev"),e.changeActiveDot(),e.changeActiveBtns()})),this.next.addEventListener("click",(function(){e.counter>=e.dotsCounter-1?e.counter=0:e.counter++,e.moveSlide("next"),e.changeActiveDot(),e.changeActiveBtns()}))}},{key:"changeActiveBtns",value:function(){0===this.counter?this.prev.classList.remove("active"):this.prev.classList.add("active"),this.counter===this.dotsCounter-1?this.next.classList.remove("active"):this.next.classList.add("active")}},{key:"changeActiveDot",value:function(){var e=this;this.dots.forEach((function(t,i){t.classList.remove("active"),i===e.counter&&t.classList.add("active")}))}},{key:"moveSlide",value:function(e){"next"===e?0===this.counter?(this.shiftMain=0,this.move(this.shiftMain)):this.shiftMain+200>this.wrapperWidth?(this.shiftMain+=this.end*this.slideWidth,this.move(this.shiftMain)):(this.shiftMain+=100,this.move(this.shiftMain)):"prev"===e&&(this.counter===this.dotsCounter-1?(this.shiftMain=this.wrapperWidth-100,this.move(this.shiftMain)):this.shiftMain-100<0?(this.shiftMain=0,this.move(this.shiftMain)):(this.shiftMain-=100,this.move(this.shiftMain)))}},{key:"move",value:function(e){this.wrapper.style["margin-left"]="-".concat(e,"%")}}]),e}(),slider=document.querySelector(".main-slider"),mainSlider=new MainSlider(slider,1),sliderNewBooks=document.querySelector("#slider-new-books"),sliderNewBooksActive=new MainSlider(sliderNewBooks,4),sliderReading=document.querySelector("#slider-reading"),sliderReadingActive=new MainSlider(sliderReading,4),sliderNews=document.querySelector("#slider-news"),sliderNewsActive=new MainSlider(sliderNews,3);