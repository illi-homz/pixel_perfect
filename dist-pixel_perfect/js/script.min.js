"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));var MainSlider=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this.slider=t,this.counter=0,this.slidesOnPage=i}return _createClass(e,[{key:"init",value:function(){this.sliderWidth=this.slider.clientWidth,this.wrapper=this.slider.querySelector(".wrap"),this.prev=this.slider.querySelector(".prev"),this.next=this.slider.querySelector(".next"),this.slides=this.slider.querySelectorAll(".item"),this.slideWidth,this.slidesLingth=this.slides.length,this.slidesCounter=Math.ceil(this.slidesLingth/this.slidesOnPage),this.nav=this.slider.querySelector(".nav"),this.dots=[],this.shift=0,this.btnsInit(),this.setSlidesWidth(),this.createDots(),this.dots[this.counter].classList.add("active"),this.changeActiveBtns()}},{key:"setSlidesWidth",value:function(){var e=this;this.slideWidth=100/this.slidesOnPage,this.slides.forEach((function(t){t.style.minWidth="".concat(e.slideWidth,"%")}))}},{key:"createDots",value:function(){for(var e=this,t=this,i=function(i){var s=document.createElement("div");s.classList.add("nav__item"),s.addEventListener("click",(function(){t.counter=i,t.moveSlide(),t.changeActiveDot()})),e.dots.push(s),e.nav.appendChild(s)},s=0;s<this.slidesCounter;s++)i(s)}},{key:"btnsInit",value:function(){var e=this;this.prev.addEventListener("click",(function(){e.counter<=0?e.counter=e.slidesCounter-1:e.counter--,e.moveSlide("prev"),e.changeActiveDot(),e.changeActiveBtns()})),this.next.addEventListener("click",(function(){e.counter>=e.slidesCounter-1?e.counter=0:e.counter++,e.moveSlide("next"),e.changeActiveDot(),e.changeActiveBtns()}))}},{key:"moveSlide",value:function(e){var t=this.slidesOnPage*this.slidesCounter-this.slidesLingth;t=this.slidesOnPage-t,console.log(t),0===this.counter?this.shift=0:this.counter===this.slidesCounter-1?"next"===e&&(this.shift+=this.slideWidth*t):1===this.counter?"prev"===e&&(this.shift-=this.slideWidth*t):this.shift+=this.slideWidth*this.slidesOnPage,this.move(this.shift)}},{key:"move",value:function(e){this.wrapper.style["margin-left"]="-".concat(e,"%")}},{key:"changeActiveBtns",value:function(){0===this.counter?this.prev.classList.remove("active"):this.prev.classList.add("active"),this.counter===this.slidesCounter-1?this.next.classList.remove("active"):this.next.classList.add("active")}},{key:"changeActiveDot",value:function(){var e=this;this.dots.forEach((function(t,i){t.classList.remove("active"),i===e.counter&&t.classList.add("active")}))}}]),e}(),slider=document.querySelector(".main-slider"),mainSlider=new MainSlider(slider,3);mainSlider.init();